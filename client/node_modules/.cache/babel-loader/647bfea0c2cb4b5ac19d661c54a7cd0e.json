{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Murthi Sri\\\\Desktop\\\\Kavi's Itpm backup\\\\client\\\\src\\\\Pages\\\\StaffMembers\\\\Viewall.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\n\n/* eslint-disable jsx-a11y/anchor-has-content */\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Viewall() {\n  _s();\n\n  const [records, setRecords] = useState([]);\n\n  const Record = props => /*#__PURE__*/_jsxDEV(\"tr\", {\n    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n      children: props.record.image\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: props.record.fullName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: props.record.roleid\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: props.record.email\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: props.record.mobile\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        className: \"btn btn-icon btn-primary\",\n        to: `/StaffMembers/Edit/${props.record._id}`,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          class: \"icon wb-pencil\",\n          \"aria-hidden\": \"true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 96\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-icon btn-danger ml-1\",\n        onClick: () => {\n          props.deleteRecord(props.record._id);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          class: \"icon wb-trash\",\n          \"aria-hidden\": \"true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 5\n  }, this); // This method fetches the records from the database.\n\n\n  useEffect(() => {\n    async function getRecords() {\n      const response = await fetch(`http://localhost:4000/member/all`);\n\n      if (!response.ok) {\n        const message = `An error occured: ${response.statusText}`;\n        window.alert(message);\n        return;\n      }\n\n      const records = await response.json();\n      setRecords(records);\n    }\n\n    getRecords();\n    return;\n  }, [records.length]); // This method will delete a record\n\n  async function deleteRecord(id) {\n    await fetch(`http://localhost:4000/member/delete/${id}`, {\n      method: \"DELETE\"\n    });\n    const newRecords = records.filter(el => el._id !== id);\n    setRecords(newRecords);\n  } // This method will map out the records on the table\n\n\n  function recordList() {\n    return records.map(record => {\n      return /*#__PURE__*/_jsxDEV(Record, {\n        record: record,\n        deleteRecord: () => deleteRecord(record._id)\n      }, record._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"panel-heading\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row p-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"panel-title\",\n            children: \"Staff Member List\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6 text-right\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/StaffMembers/Add\",\n            className: \"btn btn-primary\",\n            children: \"+ Add Staff Member\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"panel-body\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-striped\",\n        style: {\n          marginTop: 20\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Photo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Staff Member Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Role\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Staff Member Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Mobile No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: recordList()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Viewall, \"2hVe065MKzxnAZ4C3qrhRP61L3w=\");\n\n_c = Viewall;\n\nvar _c;\n\n$RefreshReg$(_c, \"Viewall\");","map":{"version":3,"sources":["C:/Users/Murthi Sri/Desktop/Kavi's Itpm backup/client/src/Pages/StaffMembers/Viewall.js"],"names":["React","useEffect","useState","Link","Viewall","records","setRecords","Record","props","record","image","fullName","roleid","email","mobile","_id","deleteRecord","getRecords","response","fetch","ok","message","statusText","window","alert","json","length","id","method","newRecords","filter","el","recordList","map","marginTop"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\r\n/* eslint-disable jsx-a11y/anchor-has-content */\r\nimport React, { useEffect, useState }  from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function Viewall() {\r\n\r\n  const [records, setRecords] = useState([]);\r\n\r\n  const Record = (props) => (\r\n    <tr>\r\n      <td>{props.record.image}</td>\r\n      <td>{props.record.fullName}</td>\r\n      <td>{props.record.roleid}</td>\r\n      <td>{props.record.email}</td>\r\n      <td>{props.record.mobile}</td>\r\n      <td>\r\n      <Link className=\"btn btn-icon btn-primary\" to={`/StaffMembers/Edit/${props.record._id}`}><i class=\"icon wb-pencil\" aria-hidden=\"true\"></i></Link>\r\n        <button className=\"btn btn-icon btn-danger ml-1\"\r\n          onClick={() => {\r\n            props.deleteRecord(props.record._id);\r\n          }}\r\n        >\r\n        <i class=\"icon wb-trash\" aria-hidden=\"true\"></i>\r\n        </button>\r\n      </td>\r\n    </tr>\r\n  );\r\n\r\n    // This method fetches the records from the database.\r\n    useEffect(() => {\r\n      async function getRecords() {\r\n        const response = await fetch(`http://localhost:4000/member/all`);\r\n  \r\n        if (!response.ok) {\r\n          const message = `An error occured: ${response.statusText}`;\r\n          window.alert(message);\r\n          return;\r\n        }\r\n  \r\n        const records = await response.json();\r\n        setRecords(records);\r\n      }\r\n  \r\n      getRecords();\r\n  \r\n      return; \r\n    }, [records.length]);\r\n\r\n\r\n     // This method will delete a record\r\n  async function deleteRecord(id) {\r\n    await fetch(`http://localhost:4000/member/delete/${id}`, {\r\n      method: \"DELETE\"\r\n    });\r\n\r\n    const newRecords = records.filter((el) => el._id !== id);\r\n    setRecords(newRecords);\r\n  }\r\n\r\n    // This method will map out the records on the table\r\n  function recordList() {\r\n    return records.map((record) => {\r\n      return (\r\n        <Record\r\n          record={record}\r\n          deleteRecord={() => deleteRecord(record._id)}\r\n          key={record._id}\r\n        />\r\n      );\r\n    });\r\n  }\r\n    return (\r\n    <div className=\"panel\">\r\n        <header className=\"panel-heading\">\r\n          <div className='row p-2'>\r\n            <div className='col-6'>\r\n              <h3 className=\"panel-title\">Staff Member List</h3>\r\n            </div>\r\n            <div className='col-6 text-right'>\r\n              <Link to = \"/StaffMembers/Add\" className='btn btn-primary' >\r\n             + Add Staff Member\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </header>\r\n        <div className=\"panel-body\">\r\n        <table className=\"table table-striped\" style={{ marginTop: 20 }}>\r\n          <thead>\r\n            <tr>\r\n              <th>Photo</th>\r\n              <th>Staff Member Name</th>\r\n              <th>Role</th>\r\n              <th>Staff Member Email</th>\r\n              <th>Mobile No</th>\r\n              <th>Action</th>\r\n            </tr>\r\n          </thead>\r\n        <tbody>{recordList()}</tbody>\r\n        </table>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}